{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-45d1f67723351969.js","node_modules/@parcel/runtime-js/lib/runtime-0d409ae844743570.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.e7be9998.js\\\",\\\"6kiXf\\\":\\\"icon-pen.5df63fbf.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6kiXf\")).toString();","import penImage from './images/svg/cursor/icon-pen.svg';\n\nconst fieldThumbEl = document.querySelector('.field__thumb');\nconst fieldEl = document.querySelector('.field');\nconst clickSound = document.getElementById('click__sound');\nconst winnerEl = document.querySelector('.winner');\n\nfieldEl.addEventListener('click', onClick);\n\nlet player = 'X';\nlet historyx = [];\nlet history0 = [];\n\nconst wins = [\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9],\n  [7, 4, 1],\n  [8, 5, 2],\n  [9, 6, 3],\n  [7, 5, 3],\n  [9, 5, 1],\n];\nconsole.log(typeof wins);\nconsole.log(typeof historyx);\n\nfunction createMarkup() {\n  let markup = '';\n  let penMarkup = '';\n\n  for (let i = 1; i < 10; i += 1) {\n    markup += `<div class=\"item\" data-id=\"${i}\"></div>`;\n  }\n\n  for (let i = 1; i < 9; i += 1) {\n    markup += `<div class=\"line js-line\" data-line=\"${i}\"></div>`;\n  }\n\n  for (let i = 1; i < 9; i += 1) {\n    penMarkup += `<img\n    class=\"pen js-pen\"\n    data-pen=\"${i}\"\n    src=\"${penImage}\"\n    alt=\"pen\"\n    width=\"100\"\n    height=\"100\"\n    />`;\n  }\n\n  fieldThumbEl.insertAdjacentHTML('beforebegin', penMarkup);\n  fieldEl.innerHTML = markup;\n}\n\ncreateMarkup();\n\nfunction onClick(e) {\n  const { target } = e;\n\n  // console.log(e.currentTarget);\n  // console.log(target);\n\n  if (target.textContent) {\n    return;\n  }\n\n  target.textContent = player;\n  const id = Number(target.dataset.id);\n\n  if (player === 'X') {\n    historyx.push(id);\n  } else {\n    history0.push(id);\n  }\n\n  // console.log(history0);\n  // console.log(historyx);\n\n  player = player === 'X' ? '0' : 'X';\n\n  if (historyx.length + history0.length === 9) {\n    reset();\n  }\n\n  clickSound.play().catch(error => {\n    console.error('Не вдалося відтворити звук:', error);\n  });\n\n  checkWins();\n}\n\nfunction reset() {\n  createMarkup();\n  historyx = [];\n  history0 = [];\n  player = 'X';\n}\n\nfunction checkWins() {\n  let winnerXIdx = 0;\n  let winner0Idx = 0;\n\n  if (historyx.length + history0.length >= 5) {\n    const isWinnerX = wins.some(item =>\n      item.every(id => historyx.includes(id))\n    );\n\n    const isWinner0 = wins.some(item =>\n      item.every(id => history0.includes(id))\n    );\n\n    // console.log(isWinnerX);\n    // console.log(isWinnerX);\n    const playerX = 'Taras';\n    const player0 = 'Oksana';\n\n    if (isWinnerX) {\n      winnerXIdx = wins.findIndex(item =>\n        item.every(id => historyx.includes(id))\n      );\n      victory(playerX, winnerXIdx);\n      console.log(playerX, winnerXIdx);\n\n      // console.log('win');\n      winnerEl.textContent = 'Winner PlayerX';\n    } else if (isWinner0) {\n      winner0Idx = wins.findIndex(item =>\n        item.every(id => history0.includes(id))\n      );\n      victory(player0, winner0Idx);\n      console.log(player0, winner0Idx);\n    }\n  }\n}\n// console.log(penEl);\nconst lineEl = document.querySelectorAll('.js-line');\nconst penEl = document.querySelectorAll('.js-pen');\nfunction victory(player, idx) {\n  // console.log(idx);\n  const lineArr = [...lineEl];\n  const penArr = [...penEl];\n\n  const selectLine = lineArr.find(\n    el => Number(el.dataset.line) === Number(idx + 1)\n  );\n\n  const selectPen = penArr.find(\n    el => Number(el.dataset.pen) === Number(idx + 1)\n  );\n\n  selectLine.classList.add('active');\n  selectPen.classList.add('active');\n  fieldEl.removeEventListener('click', onClick);\n}\n\nfunction draw() {}\n\nfunction loss() {}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$db766b1b9e3cd3a1$exports","URL","resolve","import","meta","url","toString","$1f0dc3b9307be026$var$fieldThumbEl","document","querySelector","$1f0dc3b9307be026$var$fieldEl","$1f0dc3b9307be026$var$clickSound","getElementById","$1f0dc3b9307be026$var$winnerEl","addEventListener","$1f0dc3b9307be026$var$onClick","$1f0dc3b9307be026$var$player","$1f0dc3b9307be026$var$historyx","$1f0dc3b9307be026$var$history0","$1f0dc3b9307be026$var$wins","$1f0dc3b9307be026$var$createMarkup","markup","penMarkup","i1","i2","$parcel$interopDefault","insertAdjacentHTML","innerHTML","e","target","textContent","Number","dataset","push","play","catch","error","console","winnerXIdx","winner0Idx","isWinnerX","some","item","every","includes","isWinner0","playerX","player0","findIndex","$1f0dc3b9307be026$var$victory","log","$1f0dc3b9307be026$var$checkWins","$1f0dc3b9307be026$var$lineEl","querySelectorAll","$1f0dc3b9307be026$var$penEl","player","idx","lineArr","penArr","selectLine","find","el","line","selectPen","pen","classList","add","removeEventListener"],"version":3,"file":"index.e7be9998.js.map"}